
FALLO AL EJECUTAR EL ARCHIVO Insert2.sql EN BASE DE DATOS CLIENT1

code:   6550
message:   ORA-06550: línea 149, columna 7:
PLS-00103: Se ha encontrado el símbolo "/" El símbolo "/" ha sido ignorado.
offset:   8673
sqltext:   BEGIN 
DECLARE

v_brand VARCHAR(32);
v_model VARCHAR(32);
v_version VARCHAR(32);
v_app_proto_descr VARCHAR(32);
v_phy_proto_descr VARCHAR(32);
v_password  VARCHAR(32);
v_app_proto_id NUMBER(10,0);
v_phy_proto_id NUMBER(10,0);
v_brand_id NUMBER(10,0);

v_cmd_profile NUMBER(10,0);
v_cmd_registers NUMBER(10,0);
v_cmd_events NUMBER(10,0);
v_cmd_set_clock NUMBER(10,0);
v_cmd_eob NUMBER(10,0);


v_acse_auth_choice NUMBER(10,0);
v_acse_auth_value VARCHAR(32);
v_acse_context_name NUMBER(10,0);
v_acse_mechanism_name NUMBER(10,0);
v_acse_proto_version NUMBER(10,0);
v_dlms_conformance NUMBER(10,0);
v_dlms_conformance_legacy_tag NUMBER(10,0);
v_dlms_key_value VARCHAR(32);
v_dlms_max_recv_pdu_size NUMBER(10,0);
v_dlms_use_rlrq NUMBER(10,0);
v_dlms_version NUMBER(10,0);
v_app_log_level NUMBER(10,0);
v_link_log_level NUMBER(10,0);

v_dest_addr_len NUMBER(10,0);
v_dest_addr_lower NUMBER(10,0);
v_dest_addr_upper NUMBER(10,0);
v_len_rx NUMBER(10,0);
v_len_tx NUMBER(10,0);
v_neg_i_len NUMBER(10,0);
v_ph_conn_tout NUMBER(10,0);
v_retries NUMBER(10,0);
v_src_addr_len NUMBER(10,0);
v_src_addr_lower NUMBER(10,0);
v_src_addr_upper NUMBER(10,0);
v_tp NUMBER(10,0);
v_tr NUMBER(10,0);
v_w_rx NUMBER(10,0);
v_w_tx NUMBER(10,0);

-- ==================================================
-- Asignacion de variables
-- ==================================================

BEGIN

v_brand := 'ELGAMA';
v_model := 'Gama300';
v_version := '1.0';
v_app_proto_descr := 'xDLMS/COSEM/HDLC';
v_phy_proto_descr := 'TCP/IP';
v_password := ' ';
SELECT proto_id INTO v_app_proto_id  FROM m_app_protos WHERE descr = v_app_proto_descr;
SELECT proto_id INTO v_phy_proto_id FROM m_phy_protos WHERE description = v_phy_proto_descr;

v_cmd_profile := 1;
v_cmd_registers := 2;
v_cmd_events := 3;
v_cmd_set_clock := 4;
v_cmd_eob := 5;

v_acse_auth_choice := 0;
v_acse_auth_value:=' ';
v_acse_context_name := 2;
v_acse_mechanism_name := 1;
v_acse_proto_version := -1;
v_dlms_conformance := 1841952;
v_dlms_conformance_legacy_tag := 0;
v_dlms_key_value := ' ';
v_dlms_max_recv_pdu_size := 0;
v_dlms_use_rlrq := 1;
v_dlms_version := 6;
v_app_log_level := 255;

v_dest_addr_len := 4;
v_dest_addr_lower := 0;
v_dest_addr_upper := 1;
v_len_rx := 128;
v_len_tx := 128;
v_link_log_level := 255;
v_neg_i_len := 1;
v_ph_conn_tout := 5000;
v_retries := 5;
v_src_addr_len := 1;
v_src_addr_lower := 0;
v_src_addr_upper := 32;
v_tp := 150;
v_tr := 150;
v_w_rx := 7;
v_w_tx := 2;

-- ==================================================
-- Ejecucion del script
-- ==================================================

/* -- Tabla: m_meters_brands */
INSERT INTO m_meters_brands (brand, model, version, def_app_proto, def_phy_proto) VALUES (v_brand, v_model, v_version, v_app_proto_id, v_phy_proto_id);

/* -- Tabla: m_brands_commands */
SELECT brand_id INTO v_brand_id FROM m_meters_brands WHERE brand = v_brand AND model = v_model;
INSERT INTO m_brands_commands VALUES (v_cmd_profile,   v_brand_id); /* PROFILE   */
INSERT INTO m_brands_commands VALUES (v_cmd_registers, v_brand_id); /* REGISTERS */
INSERT INTO m_brands_commands VALUES (v_cmd_events,    v_brand_id); /* EVENTS    */
INSERT INTO m_brands_commands VALUES (v_cmd_set_clock, v_brand_id); /* SET CLOCK */
INSERT INTO m_brands_commands VALUES (v_cmd_eob,       v_brand_id); /* EOB       */

/* -- Tabla: m_meters_template */
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'acse_auth_choice',            v_acse_auth_choice,            v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'acse_auth_value',             v_acse_auth_value,             v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'acse_context_name',           v_acse_context_name,           v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'acse_mechanism_name',         v_acse_mechanism_name,         v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'acse_proto_version',          v_acse_proto_version,          v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_conformance',            v_dlms_conformance,            v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_conformance_legacy_tag', v_dlms_conformance_legacy_tag, v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_key_value',              v_dlms_key_value,              v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_max_recv_pdu_size',      v_dlms_max_recv_pdu_size,      v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_use_rlrq',               v_dlms_use_rlrq,               v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'dlms_version',                v_dlms_version,                v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'app',  'log_level',                   v_app_log_level,               v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'dest_addr_len',               v_dest_addr_len,               v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'dest_addr_lower',             v_dest_addr_lower,             v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'dest_addr_upper',             v_dest_addr_upper,             v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'len_rx',                      v_len_rx,                      v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'len_tx',                      v_len_tx,                      v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'log_level',                   v_link_log_level,              v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'neg_i_len',                   v_neg_i_len,                   v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'ph_conn_tout',                v_ph_conn_tout,                v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'retries',                     v_retries,                     v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'src_addr_len',                v_src_addr_len,                v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'src_addr_lower',              v_src_addr_lower,              v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'src_addr_upper',              v_src_addr_upper,              v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'tp',                          v_tp,                          v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'tr',                          v_tr,                          v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'w_rx',                        v_w_rx,                        v_brand_id); 
INSERT INTO m_meters_templates (proto_id, type, parameter, value, brand_id) VALUES ( v_app_proto_id, 'link', 'w_tx',                        v_w_tx,                        v_brand_id); 

END;

 END; /